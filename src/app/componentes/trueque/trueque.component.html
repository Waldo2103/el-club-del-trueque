<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/folder/Trueques" (click)="closeTrueque()"></ion-back-button>
    </ion-buttons>
    <ion-title>Sala de Trueque</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="cont d height-100 width-100 center-horizontal center-vertical flex-v">
    <div class="b height-45 width-100 center-horizontal center-vertical
      flex-v">
      <ion-label *ngIf="troqueComprador === undefined">
        <h2>@{{usuarioP.apodo}}</h2>
      </ion-label>
      <ion-label *ngIf="troqueComprador !== undefined">
        <h2>@{{troqueVendedor.apodo}}</h2>
      </ion-label>
      <ion-card>


        <ion-card-header>
          <img [src]="troqueVendedor.imagen" />
        </ion-card-header>
        <ion-card-content>
          {{troqueVendedor.nombre}}
        </ion-card-content>
      </ion-card>
      <!-- <div align="center">
        <ion-col size="12">
          <ion-slides [options]="{ slidesPerView: 'auto', zoom: false, grabCursor: true }">
            <ion-slide *ngFor="let troque of troquesVendedor"
              style="width: 150px; height: 180px; border: 2px solid #517566">
              <ion-col>
                <ion-img [src]="troque.imagen"></ion-img>
                <ion-label>{{troque.nombre}}</ion-label>
              </ion-col>
            </ion-slide>
            <ion-slide style="width: 150px; height: 180px; border: 2px solid #517566" (click)="buscarEnAlbum()">
              <ion-col>
                <ion-img style="width: 80px; height: 80px; display: block; margin-left: auto; margin-right: auto;"
                  src="./assets/img/plus.png"></ion-img>
                <ion-label>Agregar Troque</ion-label>
              </ion-col>
            </ion-slide>
          </ion-slides>
        </ion-col>
      </div> -->
    </div>
    <div *ngIf="!finalizado">
      <div *ngIf="!nuevaOferta">
        <ion-row size="12">
          <ion-col size="6">
            <ion-button *ngIf="!confirmado" fill="outline" expand="block" color="success" [disabled]="!troqueAgregado"
              (click)="ofertar()">
              Ofertar
            </ion-button>
            <ion-button *ngIf="confirmado" fill="outline" expand="block" color="success" (click)="finalizar()">
              Calificar Troquero!
            </ion-button>
          </ion-col>
          <ion-col size="6">
            <ion-button fill="outline" expand="block" color="danger" (click)="cambiarEstadoTrueque('cancelado')">
              Cancelar</ion-button>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="nuevaOferta">
        <ion-row size="12">
          <ion-col size="4">
            <ion-button fill="outline" expand="block" color="success" (click)="cambiarEstadoTrueque('confirmado')"
              [disabled]="btnContraoferta">Confirmar</ion-button>
          </ion-col>
          <ion-col size="4">
            <ion-button fill="outline" expand="block" color="warning" (click)="cambiarEstadoTrueque('pendiente')"
              [disabled]="!btnContraoferta">Contraofertar</ion-button>
          </ion-col>
          <ion-col size="4">
            <ion-button fill="outline" expand="block" color="danger" (click)="cambiarEstadoTrueque('rechazado')">
              Rechazar</ion-button>
          </ion-col>
        </ion-row>
      </div>
    </div>
    <div class="c height-45 width-100 center-horizontal center-vertical flex-v">
      <ion-label *ngIf="troqueComprador === undefined">
        <h2>@{{usuarioL.apodo}}</h2>
      </ion-label>
      <ion-label *ngIf="troqueComprador !== undefined">
        <h2>@{{troqueComprador.apodo}}</h2>
      </ion-label>
      <ion-card *ngIf="troqueComprador===undefined" (click)="agregarTroque()">
        <ion-card-header>
          <img src="./assets/img/plus.png" />
        </ion-card-header>
        <ion-card-content>
          Agrega el Troque que ofrecer√°s a cambio
        </ion-card-content>
      </ion-card>
      <ion-card *ngIf="troqueComprador!==undefined">


        <ion-card-header>
          <img [src]="foto" />
        </ion-card-header>
        <ion-card-content>
          {{troqueComprador.nombre}}
          <ion-button *ngIf="modificable" (click)="agregarTroque()" color="tertiary">
            <ion-icon name="pencil"></ion-icon>
          </ion-button>
        </ion-card-content>
      </ion-card>
      <!-- <ion-col style="display: block; margin-left: auto; margin-right: auto;" size="12">
          <ion-slides [options]="{ slidesPerView: 'auto', zoom: false, grabCursor: true }">
            <ion-slide *ngFor="let troque of troquesComprador"
              style="width: 150px; height: 180px; border: 2px solid #517566">
              <ion-col>
                <ion-img [src]="troque.imagen"></ion-img>
                <ion-label>{{troque.nombre}}</ion-label>
              </ion-col>
            </ion-slide>
            <ion-slide style="width: 150px; height: 180px; border: 2px solid #517566" (click)="agregarTroque()">
              <ion-col>
                <ion-img style="width: 80px; height: 80px; display: block; margin-left: auto; margin-right: auto;"
                  src="./assets/img/plus.png"></ion-img>
                <ion-label>Agregar Troque/s</ion-label>
              </ion-col>
            </ion-slide>
          </ion-slides>
        </ion-col> -->
    </div>
  </div>

</ion-content>